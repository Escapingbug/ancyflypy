# Ancy 小鹤双拼双形 （安系小鹤） Rime 配置方案

## 方案介绍

小鹤双拼双形方案扩展，单字直接沿用了原小鹤双拼双形方案，词组方面做了改动和扩展。

原小鹤方案词组选择的规则规定了双字三字四字的输入方法，官方输入法rime版本词组极其有限，难以日常使用，但是其单字输入方案优秀，值得学习使用，所以我个人做了如下修改：

词组使用双拼输入，词组中任一字可以带形。例如输入“事实”，按照双拼输入为："uiui"，但是由于"uiui"，也就是音为 "shishi" 的词语较多，所以难以选择，这时就可以为“事"或者“实”（二选一，一个词组中只能有一个带形）加上形码，所以可以选择输入“uialui”（给“事”加形码）或是“uiuibd”（给“实”加形码）

采用这种方案的目的除了可以方便选择减少重码以外，还可以很好的和 rime 输入法自己的 commit_history ，也就是自定义词语选词记录匹配，例如在输入词库中没有的词语 “牛逼” 的时候，只有将两个字同时打出来，也就是打出 "nqbi" ，并且在出现的候选中，按左将光标移动到 “nq|bi” 的位置，然后选出 “牛” 字，之后再移动到最后，选出 “逼” 字才可以被记录下来。

由于整个过程中，单字重码较多，选字困难，就会导致自定义词语难以被记录，只能打单字。

但是如果再移动光标后，再加入形码，就可以快速选字，加快速度，但是这样又会导致只有加入形码的词语输入被记录，例如为 “牛逼” 中的 “逼” 字加入形码，也就是输入 “nqbizt” 被记录为 “牛逼”。

为了和这种行为保持一致，就选用了这样的选词方案。

在大多数时候，其实只需要在末尾添加词组末字形码就可以快速选词，同时行为上和自定义词语输入方案保持一致。

## 方案优势

- 快速选词，且选词方案与自定义词语输入保持一致
- 词库添加，使用了 jieba 的常用词词库搜狗的计算机细胞词库，后续将进一步添加快速导入细胞词库方法，现有词语约 58 万，能够不错的覆盖日常使用

有了以上两点，本版本可以既可以做为原版的扩展（词库添加），也可以作为普通双拼的辅助

## 使用方法

下载 "ancy_flypy_extend.dict.yaml" 和 "ancy_flypy_extend.schema.yaml" ，然后拷至 rime 配置目录，linux 下 fcitx 为 "~/.config/fcitx/rime/" 

接下来找到 rime 配置文件目录下的 "default.custom.yaml" ，在其中的 schema 部分添加 "ancy_flypy_extend" schema ，最后重启使用。

东风破：`bash rime-install Escapingbug/ancyflypy`

## Future Work

- 重构源码，统一接口（cli 接口）
- 加入快速导入搜狗输入法细胞词库功能
- 自动安装
